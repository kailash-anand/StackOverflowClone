{"ast":null,"code":"var _jsxFileName = \"/Users/kailashanand/StackOverflowClone/client/src/components/LoginForm.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport '../stylesheets/login.css';\nimport { loginUser } from '../api/authServlet';\nimport { UNAUTHORIZED, SUCCESS, SERVER_ERROR } from '../constants';\nimport { useUser } from '../context/UserContext';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const LoginForm = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    setUser\n  } = useUser();\n  const [password, setPassword] = React.useState('');\n  const [email, setEmail] = React.useState('');\n  const [error, setError] = React.useState('');\n  const logIn = async () => {\n    if (!email || !password) {\n      setError(\"Both email and password are required!\");\n      return;\n    }\n    try {\n      const response = await loginUser(email, password);\n      setUser(response.data);\n      navigate(`/home/`);\n    } catch (err) {\n      if (err.status === UNAUTHORIZED) {\n        setError('Login failed. Please check your credentials.');\n      } else if (err.status === SERVER_ERROR) {\n        setError('Internal server error. Please try again later.');\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"background\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"title\",\n        children: \"Fake Stack Overflow\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        placeholder: \"Enter email\",\n        value: email,\n        onChange: e => {\n          setEmail(e.target.value);\n          setError('');\n        },\n        className: `input-field ${error ? 'error' : ''}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Enter password\",\n        value: password,\n        onChange: e => {\n          setPassword(e.target.value);\n          setError('');\n        },\n        className: `input-field ${error ? 'error' : ''}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"login_page_button\",\n        onClick: logIn,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 7\n  }, this);\n};\n_s(LoginForm, \"G85WFOaNml4WCsegkVzkOpPW6IU=\", false, function () {\n  return [useNavigate, useUser];\n});\n_c = LoginForm;\nvar _c;\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"names":["React","loginUser","UNAUTHORIZED","SUCCESS","SERVER_ERROR","useUser","useNavigate","jsxDEV","_jsxDEV","LoginForm","_s","navigate","setUser","password","setPassword","useState","email","setEmail","error","setError","logIn","response","data","err","status","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","onClick","_c","$RefreshReg$"],"sources":["/Users/kailashanand/StackOverflowClone/client/src/components/LoginForm.js"],"sourcesContent":["import React from 'react';\nimport '../stylesheets/login.css';\nimport { loginUser } from '../api/authServlet';\nimport { UNAUTHORIZED, SUCCESS, SERVER_ERROR } from '../constants';\nimport { useUser } from '../context/UserContext';\nimport { useNavigate } from 'react-router-dom';\n\nexport const LoginForm = () => {\n\tconst navigate = useNavigate()\n\tconst {setUser} = useUser()\n    const [password, setPassword] = React.useState('')\n    const [email, setEmail] = React.useState('')\n    const [error, setError] = React.useState('')\n\n    const logIn = async () => {\n        if (!email || !password) {\n            setError(\"Both email and password are required!\");\n            return\n        }\n\n\t\ttry {\n\t\t\tconst response = await loginUser(email, password)\n\t\t\tsetUser(response.data)\n\t\t\tnavigate(`/home/`)\n\t\t}\n\t\tcatch (err) {\n\t\t\tif (err.status === UNAUTHORIZED) {\n\t\t\t\tsetError('Login failed. Please check your credentials.')\n\t\t\t}\n\t\t\telse if (err.status === SERVER_ERROR) {\n\t\t\t\tsetError('Internal server error. Please try again later.')\n\t\t\t}\n\t\t}\n    }\n\n    return (\n      <div className='background'>\n        <div className='container'>\n          <h1 className='title'>Fake Stack Overflow</h1>\n          <input\n            \ttype=\"email\"\n            \tplaceholder=\"Enter email\"\n            \tvalue={email}\n            \tonChange={(e) => {\n              \tsetEmail(e.target.value)\n            \tsetError('')\n            }}\n            className={`input-field ${error ? 'error' : ''}`}\n          />\n          <input\n\t\t\t\ttype=\"password\" \n\t\t\t\tplaceholder=\"Enter password\"\n\t\t\t\tvalue={password}\n\t\t\t\tonChange={(e) => {\n\t\t\t\tsetPassword(e.target.value)\n\t\t\t\tsetError('')\n\t\t\t\t}}\n            \tclassName={`input-field ${error ? 'error' : ''}`}\n          />\n          {error && <div className=\"error-message\">{error}</div>}\n          <button className='login_page_button' onClick={logIn}>Login</button>\n        </div>\n      </div>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}